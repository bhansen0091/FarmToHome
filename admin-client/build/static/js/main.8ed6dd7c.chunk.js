(this["webpackJsonpadmin-client"]=this["webpackJsonpadmin-client"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a.n(n),c=a(1),s=(a(58),a(12)),i=a(2),o=a(46),l=a(0),d=["component"],u=function(e){var t=e.component,a=Object(o.a)(e,d);return Object(l.jsx)(s.b,Object(i.a)(Object(i.a)({},a),{},{component:function(e){return localStorage.getItem("token")?Object(l.jsx)(t,Object(i.a)({},e)):Object(l.jsx)(s.a,{to:"/login"})}}))},j=a(8),b=a(10),p=a(16),h=(a(69),a(102)),O=a(103),m=a(49),x=(a(70),[{title:"Login",url:"login",cName:"nav-links"},{title:"Register",url:"register",cName:"nav-links"}]),f=a(9),y=a.n(f),g=a(13),v="ADMIN_LOGIN_REQUEST",S="ADMIN_LOGIN_SUCCESS",C="ADMIN_LOGIN_FAIL",N="ADMIN_LOGOUT_REQUEST",k="ADMIN_LOGOUT_SUCCESS",E="ADMIN_LOGOUT_FAIL",I="ADMIN_REGISTRATION_REQUEST",w="ADMIN_REGISTRATION_SUCCESS",_="ADMIN_REGISTRATION_FAIL",A="GET_ALL_CATEGORIES_REQUEST",P="GET_ALL_CATEGORIES_SUCCESS",T="ADD_NEW_CATEGORY_REQUEST",D="ADD_NEW_CATEGORY_SUCCESS",R="ADD_NEW_CATEGORY_FAIL",L="UPDATE_CATEGORIES_REQUEST",G="UPDATE_CATEGORIES_SUCCESS",U="UPDATE_CATEGORIES_FAIL",B="DELETE_CATEGORIES_REQUEST",F="DELETE_CATEGORIES_SUCCESS",M="DELETE_CATEGORIES_FAIL",H="GET_ALL_PRODUCTS_REQUEST",Q="GET_ALL_PRODUCTS_SUCCESS",z="GET_CUSTOMER_ORDERS_SUCCESS",q=a(48),Y=a.n(q).a.create({baseURL:"/api"}),W=function(){var e=Object(b.c)((function(e){return e.auth})),t=Object(b.b)(),a=Object(c.useState)(!1),n=Object(j.a)(a,2),r=n[0],s=n[1];return Object(l.jsxs)("nav",{className:"NavbarItems",children:[Object(l.jsx)("div",{className:"navbar-logo",children:Object(l.jsx)(p.b,{to:"/",className:"navbar-logo-link",children:Object(l.jsx)("h2",{children:"Admin"})})}),Object(l.jsx)("div",{className:"menu-icon",onClick:function(){s(!r)},children:Object(l.jsx)("i",{className:r?"fas fa-times":"fas fa-bars"})}),Object(l.jsx)("ul",{className:r?"nav-menu active":"nav-menu",children:e.authenticate?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p.b,{className:"nav-links",to:"/",children:"Home"}),Object(l.jsx)("li",{children:Object(l.jsx)("span",{onClick:function(){t(function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:N}),e.next=3,Y.get("/admin/logout",{withCredentials:!0}).then((function(e){200===e.status?(localStorage.clear(),t({type:k})):t({type:E,payload:e.data.error})})).catch((function(e){localStorage.clear(),t({type:E,payload:e.response.data})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:"nav-links",children:"Logout"})})]}):x.map((function(e,t){return Object(l.jsx)(p.b,{className:e.cName,to:e.url,children:e.title},t)}))})]})},$=function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(W,{}),e.sidebar?Object(l.jsx)(h.a,{fluid:!0,children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)(m.a,{md:2,className:"sidebar pt-2",children:Object(l.jsxs)("ul",{className:"sidebar-nav-list",children:[Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(p.c,{exact:!0,to:"/",children:"Home"})}),Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(p.c,{to:"/categories",children:"Categories"})}),Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(p.c,{to:"/products",children:"Products"})}),Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(p.c,{to:"/current-orders",children:"Current Orders"})}),Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(p.c,{to:"/complete-orders",children:"Complete Orders"})})]})}),Object(l.jsx)(m.a,{md:10,className:"main-container pt-2",children:e.children})]})}):e.children]})},J=(a(90),function(e){var t={_id:e.product._id,name:e.name,price:e.price,inStock:e.inStock,measurement:e.measurement,quantity:e.qty},a=Object(c.useState)(t),n=Object(j.a)(a,2),r=n[0];n[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("td",{style:{width:"30%",verticalAlign:"middle"},children:r.name}),Object(l.jsxs)("td",{style:{width:"10%",textAlign:"center",verticalAlign:"middle"},children:["$",r.price.toFixed(2)," / ",r.measurement]}),Object(l.jsx)("td",{style:{width:"10%",textAlign:"center",verticalAlign:"middle"},children:r.quantity}),Object(l.jsx)("td",{style:{width:"10%",textAlign:"center",verticalAlign:"middle"},children:r.inStock?" In Stock.":" Out Of Stock."})]})}),K=a(104),V=(a(91),a(92),["btn--primary","btn--outline"]),X=["btn--med","btn--large"],Z=function(e){var t=e.children,a=e.type,n=e.onClick,r=e.buttonStyle,c=e.buttonSize,s=V.includes(r)?c:V[0],i=X.includes(c)?c:X[0];return Object(l.jsx)("button",{className:"btn ".concat(s," ").concat(i),onClick:n,type:a,children:t})},ee=function(){return function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_CUSTOMER_ORDERS_REQUEST"}),e.prev=1,e.next=4,Y.get("/orders/all",{withCredentials:!0});case 4:200===(a=e.sent).status?(n=a.data.orders,t({type:z,payload:{orders:n}})):(r=a.data.error,t({type:"GET_CUSTOMER_ORDERS_FAILURE",payload:{error:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},te=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_CUSTOMER_ORDER_REQUEST"}),t.prev=1,t.next=4,Y.put("/orders/update",e,{withCredentials:!0});case 4:201===(n=t.sent).status?(a({type:"UPDATE_CUSTOMER_ORDER_SUCCESS"}),a(ee())):(r=n.data.error,a({type:"UPDATE_CUSTOMER_ORDER_FAILURE",payload:{error:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},ae=function(e){var t=Object(b.c)((function(e){return e.orders.orders})),a=Object(b.b)(),n=Object(c.useState)({}),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),d=Object(j.a)(o,2),u=d[0],p=d[1],h=Object(c.useState)(!1),O=Object(j.a)(h,2),m=O[0],x=O[1];Object(c.useEffect)((function(){a(ee())}),[m]);var f=function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(r)},y=function(e){for(var t,a=e.orderStatus,n=0;n<=a.length-1;n++)if(a[a.length-1].isCompleted)t="delivered";else if(!1===a[n].isCompleted){t=a[n-1].type;break}return t},g=function(e){for(var t,a=e.orderStatus,n=0;n<=a.length-1;n++)e.orderStatus[a.length-1].isCompleted||!0===a[n].isCompleted&&(t=a[n+1].type);return t};return Object(l.jsx)($,{sidebar:!0,children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"column",margin:"10px",padding:"3px"},children:t?t.map((function(e,t){return"delivered"!==y(e)?Object(l.jsxs)(K.a,{bordered:!0,style:{width:"95%",alignSelf:"center"},children:[Object(l.jsx)("thead",{onClick:function(){return function(e){var t=e;s._id===e._id?i({}):i(t),p(g(e))}(e)},children:Object(l.jsxs)("tr",{children:[Object(l.jsxs)("th",{colSpan:"",style:{width:"30%",verticalAlign:"middle"},children:["Order # : ",e._id]}),Object(l.jsxs)("th",{colSpan:"",style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Order Date: ",f(e.createdAt)]}),Object(l.jsxs)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Current Status: ",y(e)]}),e.orderStatus.map((function(e,t){return"delivered"===e.type&&e.date?Object(l.jsxs)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Delivered On: ",f(e.date)]},t):"delivered"===e.type?Object(l.jsx)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:"Not Delivered"},t):null}))]})}),Object(l.jsxs)("tbody",{className:s._id===e._id?"tableBody show":"tableBody",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Product"}),Object(l.jsx)("th",{style:{textAlign:"center"},children:"Purchased Price"}),Object(l.jsx)("th",{style:{textAlign:"center"},children:"Quantity"}),Object(l.jsx)("th",{style:{textAlign:"center"},children:"Stock"})]}),e.items.map((function(e,t){return Object(l.jsx)("tr",{children:Object(l.jsx)(J,{product:e.productId,name:e.productId.name,price:e.payablePrice,measurement:e.productId.measurement,inStock:e.productId.inStock,qty:e.purchasedQty})},t)})),Object(l.jsx)("tr",{style:{textAlign:"end"},children:"delivered"!==y(e)?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Order Status:",Object(l.jsx)("select",{onChange:function(e){return p(e.target.value)},style:{marginLeft:"10px",padding:"4px"},name:"orderStatus",children:e.orderStatus.map((function(e,t){return e.isCompleted?null:Object(l.jsx)("option",{value:e.type,children:e.type},t)}))})]}),Object(l.jsx)("td",{colSpan:"3",children:Object(l.jsx)(Z,{className:"btn btn--primary btn--sm",onClick:function(){return function(e,t){a(te({orderId:e,type:t})),x(!m)}(e._id,u)},children:"Update Order"})})]}):null})]})]},t):null})):null})})},ne=(a(93),function(e){var t=Object(b.c)((function(e){return e.orders.orders})),a=Object(b.b)(),n=Object(c.useState)({}),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),d=Object(j.a)(o,2),u=d[0],p=d[1],h=Object(c.useState)(!1),O=Object(j.a)(h,2),m=O[0],x=O[1];Object(c.useEffect)((function(){a(ee())}),[m]);var f=function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(r)},y=function(e){for(var t,a=e.orderStatus,n=0;n<=a.length-1;n++)if(a[a.length-1].isCompleted)t="delivered";else if(!1===a[n].isCompleted){t=a[n-1].type;break}return t},g=function(e){for(var t,a=e.orderStatus,n=0;n<=a.length-1;n++)e.orderStatus[a.length-1].isCompleted||!0===a[n].isCompleted&&(t=a[n+1].type);return t};return Object(l.jsx)($,{sidebar:!0,children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"column",margin:"10px",padding:"3px"},children:t?t.map((function(e,t){return"delivered"===y(e)?Object(l.jsxs)(K.a,{bordered:!0,style:{width:"95%",alignSelf:"center"},children:[Object(l.jsx)("thead",{onClick:function(){return function(e){var t=e;s._id===e._id?i({}):i(t),p(g(e))}(e)},children:Object(l.jsxs)("tr",{children:[Object(l.jsxs)("th",{colSpan:"",style:{width:"30%",verticalAlign:"middle"},children:["Order # : ",e._id]}),Object(l.jsxs)("th",{colSpan:"",style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Order Date: ",f(e.createdAt)]}),Object(l.jsxs)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Current Status: ",y(e)]}),e.orderStatus.map((function(e,t){return"delivered"===e.type&&e.date?Object(l.jsxs)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Delivered On: ",f(e.date)]},t):"delivered"===e.type?Object(l.jsx)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:"Not Delivered"},t):null}))]})}),Object(l.jsxs)("tbody",{className:s._id===e._id?"tableBody show":"tableBody",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Product"}),Object(l.jsx)("th",{style:{textAlign:"center"},children:"Purchased Price"}),Object(l.jsx)("th",{style:{textAlign:"center"},children:"Quantity"}),Object(l.jsx)("th",{style:{textAlign:"center"},children:"Stock"})]}),e.items.map((function(e,t){return Object(l.jsx)("tr",{children:Object(l.jsx)(J,{product:e.productId,name:e.productId.name,price:e.payablePrice,measurement:e.productId.measurement,inStock:e.productId.inStock,qty:e.purchasedQty})},t)})),Object(l.jsx)("tr",{style:{textAlign:"end"},children:"delivered"!==y(e)?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("th",{style:{textAlign:"center",verticalAlign:"middle",width:"10%"},children:["Order Status:",Object(l.jsx)("select",{onChange:function(e){return p(e.target.value)},style:{marginLeft:"10px",padding:"4px"},name:"orderStatus",children:e.orderStatus.map((function(e,t){return e.isCompleted?null:Object(l.jsx)("option",{value:e.type,children:e.type},t)}))})]}),Object(l.jsx)("td",{colSpan:"3",children:Object(l.jsx)(Z,{className:"btn btn--primary btn--sm",onClick:function(){return function(e,t){a(te({orderId:e,type:t})),x(!m)}(e._id,u)},children:"Update Order"})})]}):null})]})]},t):null})):null})})}),re=a(19),ce=a(106),se=a(107),ie=function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ce.a.Label,{children:e.label}),Object(l.jsx)(ce.a.Control,{type:e.type,name:e.name,placeholder:e.placeholder,value:e.value,onChange:e.onChange})]})},oe=function(){var e=Object(b.c)((function(e){return e.auth})),t=Object(b.c)((function(e){return e.regAuth})),a=Object(b.b)(),n={firstName:"",lastName:"",email:"",password:"",confirmPassword:"",contactNumber:""},r=Object(c.useState)(n),o=Object(j.a)(r,2),d=o[0],u=o[1],p=Object(c.useState)(n),x=Object(j.a)(p,2),f=x[0],v=x[1],S=function(e){u(Object(i.a)(Object(i.a)({},d),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(c.useEffect)((function(){t.error&&("string"!==typeof t.error.error?v({firstName:t.error.error.firstName,lastName:t.error.error.lastName,email:t.error.error.email,password:t.error.error.password,confirmPassword:t.error.error.confirmPassword,contactNumber:t.error.error.contactNumber}):v({errorMessage:t.error.error}))}),[t]),e.authenticate?Object(l.jsx)(s.a,{to:"/"}):t.loading?Object(l.jsx)("p",{children:"Loading..."}):Object(l.jsx)("div",{children:Object(l.jsx)($,{children:Object(l.jsx)(h.a,{children:Object(l.jsx)(O.a,{style:{marginTop:"50px"},children:Object(l.jsx)(m.a,{children:Object(l.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault();var t={firstName:d.firstName,lastName:d.lastName,email:d.email,password:d.password,confirmPassword:d.confirmPassword,contactNumber:d.contactNumber};a(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:I,payload:Object(i.a)({},e)}),t.next=3,Y.post("/admin/register",Object(i.a)({},e),{withCredentials:!0}).then((function(e){if(e.data.message){var t=e.data.message;a({type:w,payload:{message:t}})}else a({type:_,payload:{error:e.data}})})).catch((function(e){a({type:_,payload:{error:e.response.data.error}})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(l.jsx)(ce.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:f.errorMessage?f.errorMessage:""})}),Object(l.jsxs)(ce.a.Row,{children:[Object(l.jsxs)(ce.a.Group,{as:m.a,controlId:"formBasicFirst",children:[Object(l.jsx)(ie,{name:"firstName",label:"First Name",type:"text",placeholder:"First Name",value:d.firstName,onChange:S}),Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:f.firstName?f.firstName.message:""})]}),Object(l.jsxs)(ce.a.Group,{as:m.a,controlId:"formBasicLast",children:[Object(l.jsx)(ie,{name:"lastName",label:"Last Name",type:"text",placeholder:"Last Name",value:d.lastName,onChange:S}),Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:f.lastName?f.lastName.message:""})]})]}),Object(l.jsxs)(ce.a.Row,{children:[Object(l.jsxs)(ce.a.Group,{as:m.a,controlId:"formBasicEmail",children:[Object(l.jsx)(ie,{name:"email",label:"Email Address",type:"email",placeholder:"Email Address",value:d.email,onChange:S}),Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:f.email?f.email.message:""})]}),Object(l.jsxs)(ce.a.Group,{as:m.a,controlId:"formBasicContactNum",children:[Object(l.jsx)(ie,{name:"contactNumber",label:"Contact Phone Number",type:"text",placeholder:"555-555-5555",value:d.contactNumber,onChange:S}),Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:f.contactNumber?f.contactNumber.message:""})]})]}),Object(l.jsxs)(ce.a.Row,{children:[Object(l.jsxs)(ce.a.Group,{as:m.a,controlId:"formGridPass",children:[Object(l.jsx)(ie,{name:"password",label:"Password",type:"password",placeholder:"Password",value:d.password,onChange:S}),Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:f.password?f.password.message:""})]}),Object(l.jsxs)(ce.a.Group,{as:m.a,controlId:"formGridCPass",children:[Object(l.jsx)(ie,{name:"confirmPassword",label:"Confirm Password",type:"password",placeholder:"Confirm Password",value:d.confirmPassword,onChange:S}),Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:f.confirmPassword?f.confirmPassword.message:""})]})]}),Object(l.jsx)(ce.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(se.a,{variant:"primary",type:"submit",children:"Submit"})})]})})})})})})},le=a(25),de=a(50),ue=a.n(de),je=(a(95),a(96),function(){return function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:A}),e.next=3,Y.get("/categories");case 3:200===(a=e.sent).status?(n=a.data.categoryList,t({type:P,payload:{categoryList:n}})):t({type:"GET_ALL_CATEGORIES_FAIL",payload:{error:a.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),be=function(e){var t=e.inputs,a=e.handleInputChangeName,n=e.handleInputChangeParentId,r=e.categorySelectOptions;return Object(l.jsx)(ce.a,{children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)(m.a,{children:Object(l.jsx)(ce.a.Group,{controlId:"formCategoryName",children:Object(l.jsx)(ie,{name:"name",label:"Category Name",type:"text",placeholder:"Enter Category Name",value:t.name,onChange:a})})}),Object(l.jsx)(m.a,{children:Object(l.jsxs)(ce.a.Group,{controlId:"formParentSelect",children:[Object(l.jsx)(ce.a.Label,{children:"Select Parent Category"}),Object(l.jsx)(ce.a.Row,{children:Object(l.jsxs)("select",{className:"form-control",name:"parentId",value:t.parentId,onChange:n,children:[Object(l.jsx)("option",{children:" "}),r.map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})]})})]})})},pe=a(105),he=function(e){var t=e.show,a=e.size,n=e.onHide,r=e.expandedArray,c=e.checkedArray,s=e.categorySelectOptions,i=e.handleEditCategoryInputs,o=e.handleClose,d=e.handleUpdate;return Object(l.jsxs)(pe.a,{show:t,size:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:n,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(pe.a.Header,{closeButton:!0,children:Object(l.jsx)(pe.a.Title,{children:"Edit Category"})}),Object(l.jsxs)(pe.a.Body,{children:[r.length>0?Object(l.jsx)(O.a,{children:Object(l.jsx)("h5",{style:{paddingLeft:"20px"},children:"Expanded"})}):Object(l.jsx)("p",{className:"text-center",children:"Nothing Selected"}),r.length>0&&r.map((function(e,t){return Object(l.jsx)(be,{inputs:e,handleInputChangeName:function(e){return i("name",e.target.value,t,"expanded")},handleInputChangeParentId:function(e){return i("parentId",e.target.value,t,"expanded")},categorySelectOptions:s},t)})),c.length>0?Object(l.jsx)(O.a,{children:Object(l.jsx)("h5",{style:{paddingLeft:"20px"},children:"Checked"})}):null,c.length>0&&c.map((function(e,t){return Object(l.jsx)(be,{inputs:e,handleInputChangeName:function(e){return i("name",e.target.value,t,"checked")},handleInputChangeParentId:function(e){return i("parentId",e.target.value,t,"checked")},categorySelectOptions:s},t)})),Object(l.jsxs)(ce.a.Group,{className:"d-flex justify-content-end border-top border-bottom py-2",children:[Object(l.jsx)(se.a,{variant:"secondary",onClick:o,children:"Close"}),Object(l.jsx)(se.a,{className:"ml-1",onClick:d,variant:"primary",type:"submit",children:"Save"})]})]})]})},Oe=function(e){var t=e.show,a=e.size,n=e.onHide,r=e.handleInputs,c=e.category,s=e.categorySelectOptions,i=e.handleClose,o=e.handleCreate;return Object(l.jsxs)(pe.a,{show:t,size:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:n,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(pe.a.Header,{closeButton:!0,children:Object(l.jsx)(pe.a.Title,{children:"Create New Category"})}),Object(l.jsxs)(pe.a.Body,{children:[Object(l.jsx)(be,{inputs:c,handleInputChangeName:r,handleInputChangeParentId:r,categorySelectOptions:s}),Object(l.jsxs)(ce.a.Group,{className:"d-flex justify-content-end border-top border-bottom py-2",children:[Object(l.jsx)(se.a,{variant:"secondary",onClick:i,children:"Close"}),Object(l.jsx)(se.a,{className:"ml-1",onClick:o,variant:"primary",type:"submit",children:"Save"})]})]})]})},me=function(e){var t=e.show,a=e.onHide,n=e.checkedArray,r=e.deleteCategories,c=e.handleClose;return Object(l.jsxs)(pe.a,{show:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:a,children:[Object(l.jsx)(pe.a.Header,{closeButton:!0,children:Object(l.jsx)(pe.a.Title,{children:"Confirm Deletion(s)"})}),Object(l.jsxs)(pe.a.Body,{children:[n<=0?Object(l.jsx)("p",{className:"text-center",children:"Nothing Selected"}):n.map((function(e,t){return Object(l.jsx)("p",{children:e.name},t)})),Object(l.jsxs)(ce.a.Group,{className:"d-flex justify-content-center border-top border-bottom py-2",children:[Object(l.jsx)(se.a,{variant:"danger",onClick:r,type:"submit",children:"Confirm Deletion"}),Object(l.jsx)(se.a,{className:"ml-1",onClick:c,variant:"warning",children:"Cancel"})]})]})]})},xe=function(){var e=Object(b.c)((function(e){return e.categoryState})),t=Object(b.b)(),a=Object(c.useState)({_id:"",name:"",parentId:""}),n=Object(j.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)([]),d=Object(j.a)(o,2),u=d[0],p=d[1],x=Object(c.useState)([]),f=Object(j.a)(x,2),v=f[0],S=f[1],C=Object(c.useState)([]),N=Object(j.a)(C,2),k=N[0],E=N[1],I=Object(c.useState)([]),w=Object(j.a)(I,2),_=w[0],A=w[1],P=Object(c.useState)(!1),H=Object(j.a)(P,2),Q=H[0],z=H[1],q=function(){return z(!1)},W=Object(c.useState)(!1),J=Object(j.a)(W,2),K=J[0],V=J[1],X=function(){return V(!1)},Z=Object(c.useState)(!1),ee=Object(j.a)(Z,2),te=ee[0],ae=ee[1],ne=function(){return ae(!1)},ce=function(){var t=ie(e.categoryList),a=[],n=[];u.length>0&&u.forEach((function(e,n){var r=t.find((function(t,a){return e===t.value}));r&&a.push(r)})),v.length>0&&v.forEach((function(e,a){var r=t.find((function(t,a){return e===t.value}));r&&n.push(r)})),E(a),A(n)},se=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(le.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name}),c.children.length>0&&e(c.children,n)}}catch(s){r.e(s)}finally{r.f()}return n},ie=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(le.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name,parentId:c.parentId}),c.children.length>0&&e(c.children,n)}}catch(s){r.e(s)}finally{r.f()}return n};return Object(l.jsxs)($,{sidebar:!0,children:[Object(l.jsxs)(h.a,{fluid:!0,children:[Object(l.jsx)(O.a,{children:Object(l.jsx)(m.a,{md:12,children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)("h3",{children:"Categories"}),Object(l.jsxs)("div",{className:"actionBtnContainer",children:[Object(l.jsxs)("button",{className:"btn btn-dark",onClick:function(){return z(!0)},children:[Object(l.jsx)("span",{className:"fas fa-plus"}),Object(l.jsx)("span",{children:"Add New Category"})]}),Object(l.jsxs)("button",{className:"btn btn-dark",onClick:function(){ce(),V(!0)},children:[Object(l.jsx)("i",{className:"fas fa-edit"}),Object(l.jsx)("span",{children:"Edit"})]}),Object(l.jsxs)("button",{className:"btn btn-danger",onClick:function(){ce(),ae(!0)},children:[Object(l.jsx)("i",{className:"fas fa-trash-alt"}),Object(l.jsx)("span",{children:"Delete"})]})]})]})})}),Object(l.jsx)(O.a,{children:Object(l.jsx)(m.a,{md:12,children:Object(l.jsx)(ue.a,{nodes:function e(t){var a,n=[],r=Object(le.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({label:c.name,value:c._id,children:c.children.length>0&&e(c.children)})}}catch(s){r.e(s)}finally{r.f()}return n}(e.categoryList),checked:u,expanded:v,onCheck:function(e){return p(e)},onExpand:function(e){return S(e)},icons:{check:Object(l.jsx)("span",{className:"fas fa-check-square"}),uncheck:Object(l.jsx)("span",{className:"far fa-square"}),halfCheck:Object(l.jsx)("span",{className:"far fa-check-square"}),expandClose:Object(l.jsx)("span",{className:"fas fa-angle-double-right"}),expandOpen:Object(l.jsx)("span",{className:"fas fa-chevron-down"})}})})}),Object(l.jsx)(O.a,{})]}),Object(l.jsx)(Oe,{show:Q,size:"lg",onHide:q,handleInputs:function(e){e.preventDefault(),s(Object(i.a)(Object(i.a)({},r),{},Object(re.a)({},e.target.name,e.target.value)))},category:r,categorySelectOptions:se(e.categoryList),handleClose:q,handleCreate:function(e){e.preventDefault();var a={name:r.name,parentId:r.parentId};null===a.name||""===a.name?alert("Category Name is required."):(t(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:T}),t.next=3,Y.post("/categories",e,{withCredentials:!0}).then((function(e){a({type:D,payload:{category:e.data}})})).catch((function(e){a({type:R,payload:e.response})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)),s({_id:"",name:"",parentId:""}),z(!1))}}),Object(l.jsx)(he,{show:K,size:"lg",onHide:X,expandedArray:_,checkedArray:k,categorySelectOptions:se(e.categoryList),handleEditCategoryInputs:function(e,t,a,n){if("checked"===n){var r=k.map((function(n,r){return a===r?Object(i.a)(Object(i.a)({},n),{},Object(re.a)({},e,t)):n}));E(r)}else if("expanded"===n){var c=_.map((function(n,r){return a===r?Object(i.a)(Object(i.a)({},n),{},Object(re.a)({},e,t)):n}));A(c)}},handleClose:X,handleUpdate:function(e){e.preventDefault();var a={_id:[],name:[],parentId:[]};_.forEach((function(e,t){a._id.push(e.value),a.name.push(e.name),a.parentId.push(e.parentId?e.parentId:"")})),k.forEach((function(e,t){a._id.push(e.value),a.name.push(e.name),a.parentId.push(e.parentId?e.parentId:"")})),t(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:L}),t.next=3,Y.post("/categories/update-multiple",e);case 3:201===(n=t.sent).status?(a({type:G}),a(je())):(r=n.error,a({type:U,payload:{error:r}}),console.log(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)),X()}}),Object(l.jsx)(me,{show:te,onHide:ne,expandedArray:_,checkedArray:k,deleteCategories:function(){var e,a=k.map((function(e,t){return{_id:e.value}}));a.length>0&&t((e=a,function(){var t=Object(g.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:B}),t.next=3,Y.post("/categories/delete-multiple",{payload:{ids:e}});case 3:201===(n=t.sent).status?(a({type:F}),a(je())):(r=n.error,a({type:M,payload:{error:r}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),ae(!1)},handleClose:ne})]})},fe=(a(97),function(){return function(){var e=Object(g.a)(y.a.mark((function e(t){var a,n,r,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_INITIAL_DATA_REQUEST"}),e.next=3,Y.get("/initial-data");case 3:200===(a=e.sent).status&&(n=a.data,r=n.categories,c=n.products,s=n.orders,t({type:P,payload:{categoryList:r}}),t({type:Q,payload:{products:c}}),t({type:z,payload:{orders:s}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ye=function(e){var t=e.product,a=e.show,n=e.handleClose,r=e.handleSave,c=e.handleProductInputs,s=e.createCategorySelectOptions,i=Object(b.c)((function(e){return e.categoryState}));Object(b.c)((function(e){return e.productState}));return Object(l.jsxs)(pe.a,{show:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:n,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(pe.a.Header,{closeButton:!0,children:Object(l.jsx)(pe.a.Title,{children:"Add New Product"})}),Object(l.jsx)(pe.a.Body,{children:Object(l.jsxs)(ce.a,{onSubmit:r,children:[Object(l.jsx)(ce.a.Group,{controlId:"formProductName",children:Object(l.jsx)(ie,{name:"name",label:"Product Name",type:"text",placeholder:"Enter Product Name",value:t.name,onChange:c})}),Object(l.jsxs)(ce.a.Group,{controlId:"formParentSelect",children:[Object(l.jsx)(ce.a.Label,{children:"Select Category"}),Object(l.jsx)(ce.a.Row,{children:Object(l.jsxs)("select",{className:"form-control",name:"category",value:t.category,onChange:c,children:[Object(l.jsx)("option",{children:" "}),s(i.categoryList).map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})]}),Object(l.jsx)(ce.a.Group,{controlId:"formProductDesc",children:Object(l.jsx)(ie,{name:"description",label:"Product Description",type:"text",placeholder:"Enter Product Description",value:t.description,onChange:c})}),Object(l.jsx)(ce.a.Group,{controlId:"formProductPrice",children:Object(l.jsx)(ie,{name:"price",label:"Product Price",type:"number",placeholder:"$",value:t.price,onChange:c})}),Object(l.jsx)(ce.a.Group,{controlId:"formProductMeasurement",children:Object(l.jsx)(ie,{name:"measurement",label:"Product Measurement",type:"text",placeholder:"Enter Product Measurement",value:t.measurement,onChange:c})}),Object(l.jsxs)(ce.a.Group,{controlId:"formProductImage",children:[Object(l.jsx)(ce.a.Label,{children:"Product Image"}),Object(l.jsx)(ce.a.Control,{type:"file",name:"productImage",onChange:c})]}),Object(l.jsx)(ce.a.Group,{controlId:"formProductInStock",children:Object(l.jsx)(ce.a.Check,{name:"inStock",label:"Product In Stock",type:"checkbox",value:t.inStock,onChange:c,readOnly:!0})}),Object(l.jsxs)(ce.a.Group,{className:"d-flex justify-content-center border-top border-bottom py-2",children:[Object(l.jsx)(se.a,{variant:"secondary",onClick:n,children:"Close"}),Object(l.jsx)(se.a,{className:"ml-1",variant:"primary",type:"submit",children:"Save"})]})]})})]})},ge=function(e){var t=e.product,a=e.show,n=e.handleClose,r=e.handleSave,s=e.handleProductInputs,i=e.createCategorySelectOptions,o=Object(b.c)((function(e){return e.categoryState})),d=(Object(b.c)((function(e){return e.productState})),Object(c.useState)({file:null})),u=Object(j.a)(d,2);u[0],u[1];return console.log(t),Object(l.jsxs)(pe.a,{show:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:n,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(pe.a.Header,{closeButton:!0,children:Object(l.jsx)(pe.a.Title,{children:"Edit Product"})}),Object(l.jsx)(pe.a.Body,{children:Object(l.jsxs)(ce.a,{onSubmit:r,encType:"multipart/form-data",children:[Object(l.jsx)(ce.a.Group,{controlId:"formProductName",children:Object(l.jsx)(ie,{name:"name",label:"Product Name",type:"text",placeholder:"Enter Product Name",value:t.name,onChange:s})}),Object(l.jsxs)(ce.a.Group,{controlId:"formParentSelect",children:[Object(l.jsx)(ce.a.Label,{children:"Select Category"}),Object(l.jsx)(ce.a.Row,{children:Object(l.jsxs)("select",{className:"form-control",name:"category",value:t.category,onChange:s,children:[Object(l.jsxs)("option",{children:[t.category.name," "]}),i(o.categoryList).map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})]}),Object(l.jsx)(ce.a.Group,{controlId:"formProductDesc",children:Object(l.jsx)(ie,{name:"description",label:"Product Description",type:"text",placeholder:"Enter Product Description",value:t.description,onChange:s})}),Object(l.jsx)(ce.a.Group,{controlId:"formProductPrice",children:Object(l.jsx)(ie,{name:"price",label:"Product Price",type:"number",placeholder:"$",value:t.price,onChange:s})}),Object(l.jsx)(ce.a.Group,{controlId:"formProductMeasurement",children:Object(l.jsx)(ie,{name:"measurement",label:"Product Measurement",type:"text",placeholder:"Enter Product Measurement",value:t.measurement,onChange:s})}),Object(l.jsx)(ce.a.Group,{controlId:"formProductInStock",children:Object(l.jsx)(ce.a.Check,{name:"inStock",label:"Product In Stock",type:"checkbox",checked:1==t.inStock,value:t.inStock,onChange:s,readOnly:!0})}),Object(l.jsxs)(ce.a.Group,{className:"d-flex justify-content-center border-top border-bottom py-2",children:[Object(l.jsx)(se.a,{variant:"secondary",onClick:n,children:"Close"}),Object(l.jsx)(se.a,{className:"ml-1",variant:"primary",type:"submit",children:"Save"})]})]})})]})},ve=function(e){Object(b.c)((function(e){return e.categoryState}));var t=Object(b.c)((function(e){return e.productState})),a=Object(b.b)(),n=Object(c.useState)({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:"",inStock:!1}),r=Object(j.a)(n,2),s=r[0],o=r[1],d=Object(c.useState)(!1),u=Object(j.a)(d,2),p=u[0],x=u[1],f=function(){o({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:null,inStock:!1}),x(!1)},v=function(){return x(!0)},S=Object(c.useState)(!1),C=Object(j.a)(S,2),N=C[0],k=C[1],E=function(){o({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:null,inStock:!1}),k(!1)},I=function(e){"checkbox"===e.target.type?o(Object(i.a)(Object(i.a)({},s),{},Object(re.a)({},e.target.name,!s[e.target.name]))):"file"===e.target.type?o(Object(i.a)(Object(i.a)({},s),{},{productImage:e.target.files[0]})):o(Object(i.a)(Object(i.a)({},s),{},Object(re.a)({},e.target.name,e.target.value)))},w=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(le.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name}),c.children.length>0&&e(c.children,n)}}catch(s){r.e(s)}finally{r.f()}return n},_=function(e){e.preventDefault();var t=new FormData;t.append("category",s.category),t.append("name",s.name),t.append("description",s.description),t.append("price",s.price),t.append("measurement",s.measurement),t.append("productImage",s.productImage),t.append("inStock",s.inStock),a(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_NEW_PRODUCT_REQUEST"}),t.next=3,Y.post("/products",e,{withCredentials:!0}).then((function(e){a({type:"ADD_NEW_PRODUCT_SUCCESS",payload:e.data})})).catch((function(e){a({type:"ADD_NEW_PRODUCT_FAIL",payload:e.response.data})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),x(!1),o({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:"",inStock:!1}),a(fe())},A=function(e){e.preventDefault();var t,n=Object(i.a)({},s);console.log(n),a((t=n,function(){var e=Object(g.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,Y.put("products/".concat(t._id),t,{withCredentials:!0});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())),k(!1),o({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:"",inStock:!1}),a(fe())},P=function(e){a(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.delete("product/deleteProductById",{data:{payload:e},withCredentials:!0});case 3:n=t.sent,a({type:"DELETE_PRODUCT_BY_ID_REQUEST"}),202===n.status?(a({type:"DELETE_PRODUCT_BY_ID_SUCCESS"}),a(function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:H}),e.next=4,Y.get("/categories/products");case 4:200===(a=e.sent).status&&t({type:Q,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"GET_ALL_PRODUCTS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())):(r=n.data.error,a({type:"DELETE_PRODUCT_BY_ID_FAILURE",payload:{error:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}({productId:e}))};Object(c.useEffect)((function(){a(fe())}),[p]);var T=Object(c.useState)(!1),D=Object(j.a)(T,2),R=D[0],L=D[1],G=Object(c.useState)({}),U=Object(j.a)(G,2),B=U[0],F=U[1],M=function(e){L(!0),F(e)},z=function(){L(!1)};return Object(l.jsxs)($,{sidebar:!0,children:[Object(l.jsxs)(h.a,{fluid:!0,children:[Object(l.jsx)(O.a,{sticky:"top",className:"my-2",children:Object(l.jsx)(m.a,{md:12,children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)("h3",{children:"Products"}),Object(l.jsx)(se.a,{variant:"primary",onClick:v,children:"Add"})]})})}),Object(l.jsx)(O.a,{children:Object(l.jsxs)(m.a,{md:12,children:[Object(l.jsxs)(K.a,{striped:!0,responsive:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"#"}),Object(l.jsx)("th",{children:"Category"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Price"}),Object(l.jsx)("th",{children:"In Stock"}),Object(l.jsx)("th",{style:{display:"flex",justifyContent:"center"},children:"Actions"})]})}),Object(l.jsx)("tbody",{style:{fontSize:"12px"},children:t.products.length>0?t.products.map((function(e,t){return Object(l.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(l.jsx)("td",{style:{verticalAlign:"middle"},children:t+1}),Object(l.jsx)("td",{onClick:function(){return M(e)},style:{verticalAlign:"middle"},children:e.category.name}),Object(l.jsx)("td",{onClick:function(){return M(e)},style:{verticalAlign:"middle"},children:e.name}),Object(l.jsxs)("td",{style:{verticalAlign:"middle"},children:["$",e.price.toFixed(2)," / ",e.measurement]}),Object(l.jsx)("td",{style:{verticalAlign:"middle"},children:e.inStock?"In Stock":"Out of Stock"}),Object(l.jsxs)("td",{style:{verticalAlign:"middle",display:"flex",justifyContent:"center"},children:[Object(l.jsx)("button",{className:"btn",style:{display:"flex"},onClick:function(){return function(e){k(!0),o(e),F(e)}(e)},children:Object(l.jsx)("i",{className:"far fa-edit"})}),Object(l.jsx)("button",{className:"btn",style:{display:"flex"},variant:"danger",size:"sm",onClick:function(){P(e._id)},children:Object(l.jsx)("i",{className:"fas fa-trash-alt"})})]})]},t)})):null})]}),Object(l.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:Object(l.jsx)(se.a,{style:{},variant:"primary",onClick:v,children:"Add"})})]})})]}),Object(l.jsx)(ye,{product:s,show:p,handleClose:f,handleSave:_,handleProductInputs:I,createCategorySelectOptions:w}),function(){return B?Object(l.jsxs)(pe.a,{show:R,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:z,children:[Object(l.jsx)(pe.a.Header,{closeButton:!0,children:Object(l.jsx)(pe.a.Title,{children:B.name})}),Object(l.jsxs)(pe.a.Body,{children:[Object(l.jsx)(O.a,{className:"border-bottom",children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)("label",{className:"key",children:"Category"}),Object(l.jsx)("p",{className:"value",children:B.category?B.category.name:null})]})}),Object(l.jsxs)(O.a,{className:"border-bottom pt-3",children:[Object(l.jsxs)(m.a,{children:[Object(l.jsx)("label",{className:"key",children:"Price"}),Object(l.jsxs)("p",{className:"value",children:["$",B.price?B.price.toFixed(2):B.price," / ",B.measurement]})]}),Object(l.jsxs)(m.a,{children:[Object(l.jsx)("label",{className:"key",children:"Availability"}),Object(l.jsx)("p",{className:"value",children:B.inStock?"In Stock":"Out of Stock"})]})]}),Object(l.jsx)(O.a,{className:"border-bottom pt-3",children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)("label",{className:"key",children:"Description"}),Object(l.jsx)("p",{className:"value",children:B.description})]})}),Object(l.jsx)(O.a,{className:"border-bottom pt-3",children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)("label",{className:"key",children:"Product Image"}),Object(l.jsx)("div",{className:"productImageContainer",children:Object(l.jsx)("img",{src:(e=B.productImage,"/public/".concat(e)),alt:B.name})})]})})]})]}):null;var e}(),B?Object(l.jsx)(ge,{product:s,show:N,handleClose:E,handleSave:A,handleProductInputs:I,createCategorySelectOptions:w}):null]})},Se=function(){var e=Object(b.c)((function(e){return e.auth})),t=Object(b.b)(),a=Object(c.useState)({email:"",password:""}),n=Object(j.a)(a,2),r=n[0],o=n[1],d=Object(c.useState)(""),u=Object(j.a)(d,2),p=u[0],x=u[1],f=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(c.useEffect)((function(){e.error&&(e.error.message?x({message:e.error.message}):x({error:e.error.error}))}),[e]),e.authenticate?Object(l.jsx)(s.a,{to:"/"}):Object(l.jsx)("div",{children:Object(l.jsx)($,{children:Object(l.jsx)(h.a,{children:Object(l.jsx)(O.a,{style:{marginTop:"50px"},children:Object(l.jsx)(m.a,{md:{span:8,offset:2},children:Object(l.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault();var a={email:r.email,password:r.password};t(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:v,payload:Object(i.a)({},e)}),t.next=3,Y.post("/admin/login",Object(i.a)({},e),{withCredentials:!0}).then((function(e){if(e.data.message){var t=e.data,n=t.token,r=t.user;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(r)),a({type:S,payload:{token:n,user:r}})}else a({type:C,payload:e.data})})).catch((function(e){a({type:C,payload:e.response.data})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(l.jsx)(ce.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(ce.a.Text,{className:"text-danger font-weight-bold",children:p?p.error?p.error:p.message:""})}),Object(l.jsx)(ce.a.Group,{as:m.a,controlId:"formBasicEmail",children:Object(l.jsx)(ie,{name:"email",label:"Email Address",type:"email",placeholder:"Email Address",value:r.email,onChange:f})}),Object(l.jsx)(ce.a.Group,{as:m.a,controlId:"formGridPass",children:Object(l.jsx)(ie,{name:"password",label:"Password",type:"password",placeholder:"Password",value:r.password,onChange:f})}),Object(l.jsx)(ce.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(se.a,{variant:"primary",type:"submit",children:"Submit"})})]})})})})})})},Ce=(a(98),function(){return Object(l.jsx)("div",{children:Object(l.jsx)($,{sidebar:!0,children:"Home"})})});var Ne=function(){var e=Object(b.c)((function(e){return e.auth})),t=Object(b.b)();return Object(c.useEffect)((function(){e.authenticate||t(function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=JSON.parse(localStorage.getItem("user")))&&t({type:S,payload:{user:a}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(fe())}),[]),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(s.d,{children:[Object(l.jsx)(u,{exact:!0,path:"/",component:Ce}),Object(l.jsx)(u,{path:"/products",component:ve}),Object(l.jsx)(u,{path:"/current-orders",component:ae}),Object(l.jsx)(u,{path:"/complete-orders",component:ne}),Object(l.jsx)(u,{path:"/categories",component:xe}),Object(l.jsx)(s.b,{exact:!0,path:"/register",component:oe}),Object(l.jsx)(s.b,{exact:!0,path:"/login",component:Se})]})})},ke=(a(99),a(29)),Ee=a(52),Ie=a(53),we={user:{_id:"",firstName:"",lastName:"",email:"",role:""},authenticate:!1,authenticating:!1,loading:!1,error:null,message:""},_e={error:null,message:"",loading:!1},Ae=a(37),Pe={categoryList:[],loading:!1,error:null},Te=function e(t,a,n){var r=[];if(void 0===t)return[].concat(Object(Ae.a)(a),[{_id:n._id,name:n.name,children:[]}]);var c,s=Object(le.a)(a);try{for(s.s();!(c=s.n()).done;){var o=c.value;if(o._id===t){var l={_id:n._id,name:n.name,parentId:n.parentId,children:[]};r.push(Object(i.a)(Object(i.a)({},o),{},{children:o.children.length>0?[].concat(Object(Ae.a)(o.children),[l]):[l]}))}else r.push(Object(i.a)(Object(i.a)({},o),{},{children:o.children?e(t,o.children,n):[]}))}}catch(d){s.e(d)}finally{s.f()}return r},De={products:[],loading:!1,errors:null},Re={orders:[]},Le=[Ie.a],Ge=Object(ke.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:e=Object(i.a)(Object(i.a)({},e),{},{authenticating:!0});break;case S:e={user:t.payload.user,authenticate:!0,authenticating:!1};break;case C:e={authenticate:!1,authenticating:!1,error:t.payload};break;case N:e={state:Object(i.a)(Object(i.a)({},we),{},{loading:!0})};break;case k:e=Object(i.a)(Object(i.a)({},we),{},{loading:!1,authenticate:!1,authenticating:!1});break;case E:e={authenticate:!1,authenticating:!1,loading:!1,error:t.payload}}return e},regAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:e=Object(i.a)(Object(i.a)({},e),{},{loading:!0});break;case w:e=Object(i.a)(Object(i.a)({},e),{},{loading:!1,message:t.payload});break;case _:e={loading:!1,error:t.payload}}return e},categoryState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:e=Object(i.a)(Object(i.a)({},e),{},{loading:!0});break;case P:e=Object(i.a)(Object(i.a)({},e),{},{categoryList:t.payload.categoryList,loading:!1});break;case T:e=Object(i.a)(Object(i.a)({},e),{},{loading:!0});break;case D:var a=t.payload.category,n=Te(a.parentId,e.categoryList,a);e=Object(i.a)(Object(i.a)({},e),{},{categoryList:n,loading:!1});break;case R:e=Object(i.a)(Object(i.a)({},e),{},{error:t.payload});break;case L:e=Object(i.a)(Object(i.a)({},e),{},{loading:!0});break;case G:e=Object(i.a)(Object(i.a)({},e),{},{loading:!1});break;case U:e=Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error});break;case B:e=Object(i.a)(Object(i.a)({},e),{},{loading:!0});break;case F:e=Object(i.a)(Object(i.a)({},e),{},{loading:!1});break;case M:e=Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error})}return e},productState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:e=Object(i.a)(Object(i.a)({},e),{},{loading:!0});break;case Q:e=Object(i.a)(Object(i.a)({},e),{},{products:t.payload.products,loading:!1})}return e},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:e=Object(i.a)(Object(i.a)({},e),{},{orders:t.payload.orders})}return e}}),Ue=Object(ke.createStore)(Ge,Object(Ee.composeWithDevTools)(ke.applyMiddleware.apply(void 0,Le)));r.a.render(Object(l.jsx)(b.a,{store:Ue,children:Object(l.jsx)(p.a,{children:Object(l.jsx)(Ne,{})})}),document.getElementById("root"))},58:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.8ed6dd7c.chunk.js.map