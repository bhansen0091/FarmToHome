(this["webpackJsonpadmin-client"]=this["webpackJsonpadmin-client"]||[]).push([[0],{58:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t){},97:function(e,t,a){"use strict";a.r(t);var r=a(24),n=a.n(r),c=a(0),s=(a(58),a(12)),o=a(2),i=a(47),l=a(1),d=["component"],j=function(e){var t=e.component,a=Object(i.a)(e,d);return Object(l.jsx)(s.b,Object(o.a)(Object(o.a)({},a),{},{component:function(e){return localStorage.getItem("token")?Object(l.jsx)(t,Object(o.a)({},e)):Object(l.jsx)(s.a,{to:"/login"})}}))},u=a(20),b=a(11),p=a(99),h=a(100),O=a(49),m=a(103),x=a(104),f=a(14),g=(a(68),a(69),[{title:"Login",url:"login",cName:"nav-links"},{title:"Register",url:"register",cName:"nav-links"}]),y=a(10),v=a(9),N=a.n(v),C=a(17),S="ADMIN_LOGIN_REQUEST",I="ADMIN_LOGIN_SUCCESS",k="ADMIN_LOGIN_FAIL",w="ADMIN_LOGOUT_REQUEST",E="ADMIN_LOGOUT_SUCCESS",_="ADMIN_LOGOUT_FAIL",A="ADMIN_REGISTRATION_REQUEST",T="ADMIN_REGISTRATION_SUCCESS",G="ADMIN_REGISTRATION_FAIL",P="GET_ALL_CATEGORIES_REQUEST",L="GET_ALL_CATEGORIES_SUCCESS",D="ADD_NEW_CATEGORY_REQUEST",R="ADD_NEW_CATEGORY_SUCCESS",U="ADD_NEW_CATEGORY_FAIL",H="UPDATE_CATEGORIES_REQUEST",z="UPDATE_CATEGORIES_SUCCESS",B="UPDATE_CATEGORIES_FAIL",F="DELETE_CATEGORIES_REQUEST",M="DELETE_CATEGORIES_SUCCESS",Q="DELETE_CATEGORIES_FAIL",W="GET_ALL_PRODUCTS_REQUEST",q="GET_ALL_PRODUCTS_SUCCESS",J=a(15),Y=a.n(J),Z=(Y.a.create({baseURL:"http://localhost:8000/api"}),function(){var e=Object(y.c)((function(e){return e.auth})),t=Object(y.b)(),a=Object(c.useState)(!1),r=Object(b.a)(a,2),n=r[0],s=r[1];return Object(l.jsxs)("nav",{className:"NavbarItems",children:[Object(l.jsx)("div",{className:"navbar-logo",children:Object(l.jsx)(f.b,{to:"/",className:"navbar-logo-link",children:Object(l.jsx)("h2",{children:"Admin"})})}),Object(l.jsx)("div",{className:"menu-icon",onClick:function(){s(!n)},children:Object(l.jsx)("i",{className:n?"fas fa-times":"fas fa-bars"})}),Object(l.jsx)("ul",{className:n?"nav-menu active":"nav-menu",children:e.authenticate?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f.b,{className:"nav-links",to:"/",children:"Home"}),Object(l.jsx)("li",{children:Object(l.jsx)("span",{onClick:function(){t(function(){var e=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w}),a=localStorage.getItem("token"),e.next=4,Y.a.post("http://localhost:8000/api/admin/logout",a,{withCredentials:!0}).then((function(e){200===e.status?(localStorage.clear(),t({type:E})):t({type:_,payload:e.data.error})})).catch((function(e){console.log(e.response.data),t({type:_,payload:e.response.data})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:"nav-links",children:"Logout"})})]}):g.map((function(e,t){return Object(l.jsx)(f.b,{className:e.cName,to:e.url,children:e.title},t)}))})]})}),$=function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Z,{}),e.sidebar?Object(l.jsx)(p.a,{fluid:!0,children:Object(l.jsxs)(h.a,{children:[Object(l.jsx)(O.a,{md:2,className:"sidebar pt-2",children:Object(l.jsxs)("ul",{className:"sidebar-nav-list",children:[Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(f.c,{exact:!0,to:"/",children:"Home"})}),Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(f.c,{to:"/categories",children:"Categories"})}),Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(f.c,{to:"/products",children:"Products"})}),Object(l.jsx)("li",{className:"sidebar-links",children:Object(l.jsx)(f.c,{to:"/orders",children:"Orders"})})]})}),Object(l.jsx)(O.a,{md:10,className:"main-container pt-2",children:e.children})]})}):e.children]})},K=function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.a.Label,{children:e.label}),Object(l.jsx)(m.a.Control,{type:e.type,name:e.name,placeholder:e.placeholder,value:e.value,onChange:e.onChange})]})},V=function(){var e=Object(y.c)((function(e){return e.auth})),t=Object(y.c)((function(e){return e.regAuth})),a=Object(y.b)(),r={firstName:"",lastName:"",email:"",password:"",confirmPassword:"",contactNumber:"",street1:"",street2:"",city:"",addressState:"",zip:""},n=Object(c.useState)(r),i=Object(b.a)(n,2),d=i[0],j=i[1],f=Object(c.useState)(r),g=Object(b.a)(f,2),v=g[0],S=g[1],I=function(e){j(Object(o.a)(Object(o.a)({},d),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(c.useEffect)((function(){t.error&&("string"!==typeof t.error.error?S({firstName:t.error.error.firstName,lastName:t.error.error.lastName,email:t.error.error.email,password:t.error.error.password,confirmPassword:t.error.error.confirmPassword,contactNumber:t.error.error.contactNumber,street1:t.error.error.street1,street2:t.error.error.street2,city:t.error.error.city,addressState:t.error.error.addressState,zip:t.error.error.zip}):S({errorMessage:t.error.error}))}),[t]),e.authenticate?Object(l.jsx)(s.a,{to:"/"}):t.loading?Object(l.jsx)("p",{children:"Loading..."}):Object(l.jsx)("div",{children:Object(l.jsx)($,{children:Object(l.jsx)(p.a,{children:Object(l.jsx)(h.a,{style:{marginTop:"50px"},children:Object(l.jsx)(O.a,{children:Object(l.jsxs)(m.a,{onSubmit:function(e){e.preventDefault();var t={firstName:d.firstName,lastName:d.lastName,email:d.email,password:d.password,confirmPassword:d.confirmPassword,contactNumber:d.contactNumber,street1:d.street1,street2:d.street2,city:d.city,addressState:d.addressState,zip:d.zip};a(function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:A,payload:Object(o.a)({},e)}),t.next=3,Y.a.post("http://localhost:8000/api/admin/register",Object(o.a)({},e),{withCredentials:!0}).then((function(e){if(e.data.message){var t=e.data.message;a({type:T,payload:{message:t}})}else a({type:G,payload:{error:e.data}})})).catch((function(e){a({type:G,payload:{error:e.response.data.error}})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(l.jsx)(m.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.errorMessage?v.errorMessage:""})}),Object(l.jsxs)(m.a.Row,{children:[Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formBasicFirst",children:[Object(l.jsx)(K,{name:"firstName",label:"First Name",type:"text",placeholder:"First Name",value:d.firstName,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.firstName?v.firstName.message:""})]}),Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formBasicLast",children:[Object(l.jsx)(K,{name:"lastName",label:"Last Name",type:"text",placeholder:"Last Name",value:d.lastName,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.lastName?v.lastName.message:""})]})]}),Object(l.jsxs)(m.a.Row,{children:[Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formBasicEmail",children:[Object(l.jsx)(K,{name:"email",label:"Email Address",type:"email",placeholder:"Email Address",value:d.email,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.email?v.email.message:""})]}),Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formBasicContactNum",children:[Object(l.jsx)(K,{name:"contactNumber",label:"Contact Phone Number",type:"text",placeholder:"555-555-5555",value:d.contactNumber,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.contactNumber?v.contactNumber.message:""})]})]}),Object(l.jsxs)(m.a.Row,{children:[Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formGridPass",children:[Object(l.jsx)(K,{name:"password",label:"Password",type:"password",placeholder:"Password",value:d.password,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.password?v.password.message:""})]}),Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formGridCPass",children:[Object(l.jsx)(K,{name:"confirmPassword",label:"Confirm Password",type:"password",placeholder:"Confirm Password",value:d.confirmPassword,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.confirmPassword?v.confirmPassword.message:""})]})]}),Object(l.jsxs)(m.a.Group,{controlId:"formGridAddress1",children:[Object(l.jsx)(K,{name:"street1",label:"Address",type:"text",placeholder:"1234 Main St",value:d.street1,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.street1?v.street1.message:""})]}),Object(l.jsxs)(m.a.Group,{controlId:"formGridAddress2",children:[Object(l.jsx)(K,{name:"street2",label:"Address 2",type:"text",placeholder:"Apartment, studio, or floor",value:d.street2,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.street2?v.street2.message:""})]}),Object(l.jsxs)(m.a.Row,{children:[Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formGridCity",children:[Object(l.jsx)(K,{name:"city",label:"City",type:"text",placeholder:"City",value:d.city,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.city?v.city.message:""})]}),Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formGridState",children:[Object(l.jsx)(K,{name:"addressState",label:"State",type:"text",placeholder:"State",value:d.addressState,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.addressState?v.addressState.message:""})]}),Object(l.jsxs)(m.a.Group,{as:O.a,controlId:"formGridZip",children:[Object(l.jsx)(K,{name:"zip",label:"Zip",type:"text",placeholder:"Zip Code",value:d.zip,onChange:I}),Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:v.zip?v.zip.message:""})]})]}),Object(l.jsx)(m.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})})]})})})})})})},X=a(26),ee=a(50),te=a.n(ee),ae=(a(91),a(92),function(){return function(){var e=Object(C.a)(N.a.mark((function e(t){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:P}),e.next=3,Y.a.get("http://localhost:8000/api/categories");case 3:200===(a=e.sent).status?(r=a.data.categoryList,t({type:L,payload:{categoryList:r}})):t({type:"GET_ALL_CATEGORIES_FAIL",payload:{error:a.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),re=function(e){var t=e.inputs,a=e.handleInputChangeName,r=e.handleInputChangeParentId,n=e.categorySelectOptions;return Object(l.jsx)(m.a,{children:Object(l.jsxs)(h.a,{children:[Object(l.jsx)(O.a,{children:Object(l.jsx)(m.a.Group,{controlId:"formCategoryName",children:Object(l.jsx)(K,{name:"name",label:"Category Name",type:"text",placeholder:"Enter Category Name",value:t.name,onChange:a})})}),Object(l.jsx)(O.a,{children:Object(l.jsxs)(m.a.Group,{controlId:"formParentSelect",children:[Object(l.jsx)(m.a.Label,{children:"Select Parent Category"}),Object(l.jsx)(m.a.Row,{children:Object(l.jsxs)("select",{className:"form-control",name:"parentId",value:t.parentId,onChange:r,children:[Object(l.jsx)("option",{children:" "}),n.map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})]})})]})})},ne=a(102),ce=function(e){var t=e.show,a=e.size,r=e.onHide,n=e.expandedArray,c=e.checkedArray,s=e.categorySelectOptions,o=e.handleEditCategoryInputs,i=e.handleClose,d=e.handleUpdate;return Object(l.jsxs)(ne.a,{show:t,size:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:r,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(ne.a.Header,{closeButton:!0,children:Object(l.jsx)(ne.a.Title,{children:"Edit Category"})}),Object(l.jsxs)(ne.a.Body,{children:[n.length>0?Object(l.jsx)(h.a,{children:Object(l.jsx)("h5",{style:{paddingLeft:"20px"},children:"Expanded"})}):Object(l.jsx)("p",{className:"text-center",children:"Nothing Selected"}),n.length>0&&n.map((function(e,t){return Object(l.jsx)(re,{inputs:e,handleInputChangeName:function(e){return o("name",e.target.value,t,"expanded")},handleInputChangeParentId:function(e){return o("parentId",e.target.value,t,"expanded")},categorySelectOptions:s},t)})),c.length>0?Object(l.jsx)(h.a,{children:Object(l.jsx)("h5",{style:{paddingLeft:"20px"},children:"Checked"})}):null,c.length>0&&c.map((function(e,t){return Object(l.jsx)(re,{inputs:e,handleInputChangeName:function(e){return o("name",e.target.value,t,"checked")},handleInputChangeParentId:function(e){return o("parentId",e.target.value,t,"checked")},categorySelectOptions:s},t)})),Object(l.jsxs)(m.a.Group,{className:"d-flex justify-content-end border-top border-bottom py-2",children:[Object(l.jsx)(x.a,{variant:"secondary",onClick:i,children:"Close"}),Object(l.jsx)(x.a,{className:"ml-1",onClick:d,variant:"primary",type:"submit",children:"Save"})]})]})]})},se=function(e){var t=e.show,a=e.size,r=e.onHide,n=e.handleInputs,c=e.category,s=e.categorySelectOptions,o=e.handleClose,i=e.handleCreate;return Object(l.jsxs)(ne.a,{show:t,size:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:r,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(ne.a.Header,{closeButton:!0,children:Object(l.jsx)(ne.a.Title,{children:"Create New Category"})}),Object(l.jsxs)(ne.a.Body,{children:[Object(l.jsx)(re,{inputs:c,handleInputChangeName:n,handleInputChangeParentId:n,categorySelectOptions:s}),Object(l.jsxs)(m.a.Group,{className:"d-flex justify-content-end border-top border-bottom py-2",children:[Object(l.jsx)(x.a,{variant:"secondary",onClick:o,children:"Close"}),Object(l.jsx)(x.a,{className:"ml-1",onClick:i,variant:"primary",type:"submit",children:"Save"})]})]})]})},oe=function(e){var t=e.show,a=e.onHide,r=(e.expandedArray,e.checkedArray),n=e.deleteCategories,c=e.handleClose;return Object(l.jsxs)(ne.a,{show:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:a,children:[Object(l.jsx)(ne.a.Header,{closeButton:!0,children:Object(l.jsx)(ne.a.Title,{children:"Confirm Deletion(s)"})}),Object(l.jsxs)(ne.a.Body,{children:[r<=0?Object(l.jsx)("p",{className:"text-center",children:"Nothing Selected"}):r.map((function(e,t){return Object(l.jsx)("p",{children:e.name},t)})),Object(l.jsxs)(m.a.Group,{className:"d-flex justify-content-center border-top border-bottom py-2",children:[Object(l.jsx)(x.a,{variant:"danger",onClick:n,type:"submit",children:"Confirm Deletion"}),Object(l.jsx)(x.a,{className:"ml-1",onClick:c,variant:"warning",children:"Cancel"})]})]})]})},ie=function(){var e=Object(y.c)((function(e){return e.categoryState})),t=Object(y.b)(),a=Object(c.useState)({_id:"",name:"",parentId:""}),r=Object(b.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)([]),d=Object(b.a)(i,2),j=d[0],m=d[1],x=Object(c.useState)([]),f=Object(b.a)(x,2),g=f[0],v=f[1],S=Object(c.useState)([]),I=Object(b.a)(S,2),k=I[0],w=I[1],E=Object(c.useState)([]),_=Object(b.a)(E,2),A=_[0],T=_[1],G=Object(c.useState)(!1),P=Object(b.a)(G,2),L=P[0],W=P[1],q=function(){return W(!1)},J=Object(c.useState)(!1),Z=Object(b.a)(J,2),K=Z[0],V=Z[1],ee=function(){return V(!1)},re=Object(c.useState)(!1),ne=Object(b.a)(re,2),ie=ne[0],le=ne[1],de=function(){return le(!1)},je=function(){var t=be(e.categoryList),a=[],r=[];j.length>0&&j.forEach((function(e,r){var n=t.find((function(t,a){return e===t.value}));n&&a.push(n)})),g.length>0&&g.forEach((function(e,a){var n=t.find((function(t,a){return e===t.value}));n&&r.push(n)})),w(a),T(r)},ue=function e(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(X.a)(t);try{for(n.s();!(a=n.n()).done;){var c=a.value;r.push({value:c._id,name:c.name}),c.children.length>0&&e(c.children,r)}}catch(s){n.e(s)}finally{n.f()}return r},be=function e(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(X.a)(t);try{for(n.s();!(a=n.n()).done;){var c=a.value;r.push({value:c._id,name:c.name,parentId:c.parentId}),c.children.length>0&&e(c.children,r)}}catch(s){n.e(s)}finally{n.f()}return r};return Object(l.jsxs)($,{sidebar:!0,children:[Object(l.jsxs)(p.a,{fluid:!0,children:[Object(l.jsx)(h.a,{children:Object(l.jsx)(O.a,{md:12,children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)("h3",{children:"Categories"}),Object(l.jsxs)("div",{className:"actionBtnContainer",children:[Object(l.jsxs)("button",{className:"btn btn-dark",onClick:function(){return W(!0)},children:[Object(l.jsx)("span",{className:"fas fa-plus"}),Object(l.jsx)("span",{children:"Add New Category"})]}),Object(l.jsxs)("button",{className:"btn btn-dark",onClick:function(){je(),V(!0)},children:[Object(l.jsx)("i",{className:"fas fa-edit"}),Object(l.jsx)("span",{children:"Edit"})]}),Object(l.jsxs)("button",{className:"btn btn-danger",onClick:function(){je(),le(!0)},children:[Object(l.jsx)("i",{className:"fas fa-trash-alt"}),Object(l.jsx)("span",{children:"Delete"})]})]})]})})}),Object(l.jsx)(h.a,{children:Object(l.jsx)(O.a,{md:12,children:Object(l.jsx)(te.a,{nodes:function e(t){var a,r=[],n=Object(X.a)(t);try{for(n.s();!(a=n.n()).done;){var c=a.value;r.push({label:c.name,value:c._id,children:c.children.length>0&&e(c.children)})}}catch(s){n.e(s)}finally{n.f()}return r}(e.categoryList),checked:j,expanded:g,onCheck:function(e){return m(e)},onExpand:function(e){return v(e)},icons:{check:Object(l.jsx)("span",{className:"fas fa-check-square"}),uncheck:Object(l.jsx)("span",{className:"far fa-square"}),halfCheck:Object(l.jsx)("span",{className:"far fa-check-square"}),expandClose:Object(l.jsx)("span",{className:"fas fa-angle-double-right"}),expandOpen:Object(l.jsx)("span",{className:"fas fa-chevron-down"})}})})}),Object(l.jsx)(h.a,{})]}),Object(l.jsx)(se,{show:L,size:"lg",onHide:q,handleInputs:function(e){e.preventDefault(),s(Object(o.a)(Object(o.a)({},n),{},Object(u.a)({},e.target.name,e.target.value)))},category:n,categorySelectOptions:ue(e.categoryList),handleClose:q,handleCreate:function(e){e.preventDefault();var a={name:n.name,parentId:n.parentId};null===a.name||""===a.name?alert("Category Name is required."):(t(function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:D}),t.next=3,Y.a.post("http://localhost:8000/api/categories",e,{withCredentials:!0}).then((function(e){a({type:R,payload:{category:e.data}})})).catch((function(e){a({type:U,payload:e.response})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)),s({_id:"",name:"",parentId:""}),W(!1))}}),Object(l.jsx)(ce,{show:K,size:"lg",onHide:ee,expandedArray:A,checkedArray:k,categorySelectOptions:ue(e.categoryList),handleEditCategoryInputs:function(e,t,a,r){if("checked"===r){var n=k.map((function(r,n){return a===n?Object(o.a)(Object(o.a)({},r),{},Object(u.a)({},e,t)):r}));w(n)}else if("expanded"===r){var c=A.map((function(r,n){return a===n?Object(o.a)(Object(o.a)({},r),{},Object(u.a)({},e,t)):r}));T(c)}},handleClose:ee,handleUpdate:function(e){e.preventDefault();var a={_id:[],name:[],parentId:[]};A.forEach((function(e,t){a._id.push(e.value),a.name.push(e.name),a.parentId.push(e.parentId?e.parentId:"")})),k.forEach((function(e,t){a._id.push(e.value),a.name.push(e.name),a.parentId.push(e.parentId?e.parentId:"")})),t(function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){var r,n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:H}),t.next=3,Y.a.post("http://localhost:8000/api/categories/update-multiple",e);case 3:201===(r=t.sent).status?(a({type:z}),a(ae())):(n=r.error,a({type:B,payload:{error:n}}),console.log(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)),ee()}}),Object(l.jsx)(oe,{show:ie,onHide:de,expandedArray:A,checkedArray:k,deleteCategories:function(){var e,a=k.map((function(e,t){return{_id:e.value}}));A.map((function(e,t){return{_id:e.value}}));a.length>0&&t((e=a,function(){var t=Object(C.a)(N.a.mark((function t(a){var r,n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:F}),t.next=3,Y.a.post("http://localhost:8000/api/categories/delete-multiple",{payload:{ids:e}});case 3:201===(r=t.sent).status?(a({type:M}),a(ae())):(n=r.error,a({type:Q,payload:{error:n}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),le(!1)},handleClose:de})]})},le=(a(93),a(101)),de=function(){return function(){var e=Object(C.a)(N.a.mark((function e(t){var a,r,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_INITIAL_DATA_REQUEST"}),e.next=3,Y.a.get("http://localhost:8000/api/initial-data");case 3:200===(a=e.sent).status&&(r=a.data,n=r.categories,c=r.products,t({type:L,payload:{categoryList:n}}),t({type:q,payload:{products:c}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(){var e=Object(y.c)((function(e){return e.categoryState})),t=Object(y.c)((function(e){return e.productState})),a=Object(y.b)(),r=Object(c.useState)({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:"",inStock:!1}),n=Object(b.a)(r,2),s=n[0],i=n[1],d=Object(c.useState)(!1),j=Object(b.a)(d,2),f=j[0],g=j[1],v=function(){i({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:null,inStock:!1}),g(!1)},S=function(){return g(!0)},I=function(e){"checkbox"===e.target.type?i(Object(o.a)(Object(o.a)({},s),{},Object(u.a)({},e.target.name,!s[e.target.name]))):"file"===e.target.type?i(Object(o.a)(Object(o.a)({},s),{},{productImage:e.target.files[0]})):i(Object(o.a)(Object(o.a)({},s),{},Object(u.a)({},e.target.name,e.target.value)))},k=function e(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(X.a)(t);try{for(n.s();!(a=n.n()).done;){var c=a.value;r.push({value:c._id,name:c.name}),c.children.length>0&&e(c.children,r)}}catch(s){n.e(s)}finally{n.f()}return r},w=function(e){e.preventDefault();var t=new FormData;t.append("category",s.category),t.append("name",s.name),t.append("description",s.description),t.append("price",s.price),t.append("measurement",s.measurement),t.append("productImage",s.productImage),t.append("inStock",s.inStock),a(function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_NEW_PRODUCT_REQUEST"}),t.next=3,Y.a.post("http://localhost:8000/api/products",e,{withCredentials:!0}).then((function(e){a({type:"ADD_NEW_PRODUCT_SUCCESS",payload:e.data})})).catch((function(e){a({type:"ADD_NEW_PRODUCT_FAIL",payload:e.response.data})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),g(!1),i({_id:"",category:"",name:"",description:"",price:"",measurement:"",productImage:"",inStock:!1}),a(de())};Object(c.useEffect)((function(){a(de())}),[f]);var E=Object(c.useState)(!1),_=Object(b.a)(E,2),A=_[0],T=_[1],G=Object(c.useState)({}),P=Object(b.a)(G,2),L=P[0],D=P[1],R=function(e){T(!0),D(e)},U=function(){T(!1)};return Object(l.jsxs)($,{sidebar:!0,children:[Object(l.jsxs)(p.a,{fluid:!0,children:[Object(l.jsx)(h.a,{sticky:"top",className:"my-2",children:Object(l.jsx)(O.a,{md:12,children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)("h3",{children:"Products"}),Object(l.jsx)(x.a,{variant:"primary",onClick:S,children:"Add"})]})})}),Object(l.jsx)(h.a,{children:Object(l.jsxs)(O.a,{md:12,children:[Object(l.jsxs)(le.a,{striped:!0,responsive:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"#"}),Object(l.jsx)("th",{children:"Category"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Price"}),Object(l.jsx)("th",{children:"In Stock"})]})}),Object(l.jsx)("tbody",{style:{fontSize:"12px"},children:t.products.length>0?t.products.map((function(e,t){return Object(l.jsxs)("tr",{onClick:function(){return R(e)},children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.category.name}),Object(l.jsx)("td",{children:e.name}),Object(l.jsxs)("td",{children:["$",e.price.toFixed(2)," / ",e.measurement]}),Object(l.jsx)("td",{children:e.inStock?"In Stock":"Out of Stock"})]},t)})):null})]}),Object(l.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:Object(l.jsx)(x.a,{style:{},variant:"primary",onClick:S,children:"Add"})})]})})]}),Object(l.jsxs)(ne.a,{show:f,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:v,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(ne.a.Header,{closeButton:!0,children:Object(l.jsx)(ne.a.Title,{children:"Add New Product"})}),Object(l.jsx)(ne.a.Body,{children:Object(l.jsxs)(m.a,{onSubmit:w,children:[Object(l.jsx)(m.a.Group,{controlId:"formProductName",children:Object(l.jsx)(K,{name:"name",label:"Product Name",type:"text",placeholder:"Enter Product Name",value:s.name,onChange:I})}),Object(l.jsxs)(m.a.Group,{controlId:"formParentSelect",children:[Object(l.jsx)(m.a.Label,{children:"Select Category"}),Object(l.jsx)(m.a.Row,{children:Object(l.jsxs)("select",{className:"form-control",name:"category",value:s.category,onChange:I,children:[Object(l.jsx)("option",{children:" "}),k(e.categoryList).map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})]}),Object(l.jsx)(m.a.Group,{controlId:"formProductDesc",children:Object(l.jsx)(K,{name:"description",label:"Product Description",type:"text",placeholder:"Enter Product Description",value:s.description,onChange:I})}),Object(l.jsx)(m.a.Group,{controlId:"formProductPrice",children:Object(l.jsx)(K,{name:"price",label:"Product Price",type:"number",placeholder:"$",value:s.price,onChange:I})}),Object(l.jsx)(m.a.Group,{controlId:"formProductMeasurement",children:Object(l.jsx)(K,{name:"measurement",label:"Product Measurement",type:"text",placeholder:"Enter Product Measurement",value:s.measurement,onChange:I})}),Object(l.jsxs)(m.a.Group,{controlId:"formProductImage",children:[Object(l.jsx)(m.a.Label,{children:"Product Image"}),Object(l.jsx)(m.a.Control,{type:"file",name:"productImage",onChange:I})]}),Object(l.jsx)(m.a.Group,{controlId:"formProductInStock",children:Object(l.jsx)(m.a.Check,{name:"inStock",label:"Product In Stock",type:"checkbox",value:s.inStock,onChange:I,readOnly:!0})}),Object(l.jsxs)(m.a.Group,{className:"d-flex justify-content-center border-top border-bottom py-2",children:[Object(l.jsx)(x.a,{variant:"secondary",onClick:v,children:"Close"}),Object(l.jsx)(x.a,{className:"ml-1",variant:"primary",type:"submit",children:"Save"})]})]})})]}),L?Object(l.jsxs)(ne.a,{show:A,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:U,children:[Object(l.jsx)(ne.a.Header,{closeButton:!0,children:Object(l.jsx)(ne.a.Title,{children:L.name})}),Object(l.jsxs)(ne.a.Body,{children:[Object(l.jsx)(h.a,{className:"border-bottom",children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)("label",{className:"key",children:"Category"}),Object(l.jsx)("p",{className:"value",children:L.category?L.category.name:null})]})}),Object(l.jsxs)(h.a,{className:"border-bottom pt-3",children:[Object(l.jsxs)(O.a,{children:[Object(l.jsx)("label",{className:"key",children:"Price"}),Object(l.jsxs)("p",{className:"value",children:["$",L.price?L.price.toFixed(2):L.price," / ",L.measurement]})]}),Object(l.jsxs)(O.a,{children:[Object(l.jsx)("label",{className:"key",children:"Availability"}),Object(l.jsx)("p",{className:"value",children:L.inStock?"In Stock":"Out of Stock"})]})]}),Object(l.jsx)(h.a,{className:"border-bottom pt-3",children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)("label",{className:"key",children:"Description"}),Object(l.jsx)("p",{className:"value",children:L.description})]})}),Object(l.jsx)(h.a,{className:"border-bottom pt-3",children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)("label",{className:"key",children:"Product Image"}),Object(l.jsx)("div",{className:"productImageContainer",children:Object(l.jsx)("img",{src:L.productImage,alt:L.name})})]})})]})]}):null]})},ue=function(){var e=Object(y.c)((function(e){return e.auth})),t=Object(y.b)(),a=Object(c.useState)({email:"",password:""}),r=Object(b.a)(a,2),n=r[0],i=r[1],d=Object(c.useState)(""),j=Object(b.a)(d,2),f=j[0],g=j[1],v=function(e){i(Object(o.a)(Object(o.a)({},n),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(c.useEffect)((function(){e.error&&(e.error.message?g({message:e.error.message}):g({error:e.error.error}))}),[e]),e.authenticate?Object(l.jsx)(s.a,{to:"/"}):Object(l.jsx)("div",{children:Object(l.jsx)($,{children:Object(l.jsx)(p.a,{children:Object(l.jsx)(h.a,{style:{marginTop:"50px"},children:Object(l.jsx)(O.a,{md:{span:8,offset:2},children:Object(l.jsxs)(m.a,{onSubmit:function(e){e.preventDefault();var a={email:n.email,password:n.password};t(function(e){return function(){var t=Object(C.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:S,payload:Object(o.a)({},e)}),t.next=3,Y.a.post("http://localhost:8000/api/admin/login",Object(o.a)({},e),{withCredentials:!0}).then((function(e){if(e.data.message){var t=e.data,r=t.token,n=t.user;localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(n)),a({type:I,payload:{token:r,user:n}})}else a({type:k,payload:e.data})})).catch((function(e){a({type:k,payload:e.response.data})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(l.jsx)(m.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(m.a.Text,{className:"text-danger font-weight-bold",children:f?f.error?f.error:f.message:""})}),Object(l.jsx)(m.a.Group,{as:O.a,controlId:"formBasicEmail",children:Object(l.jsx)(K,{name:"email",label:"Email Address",type:"email",placeholder:"Email Address",value:n.email,onChange:v})}),Object(l.jsx)(m.a.Group,{as:O.a,controlId:"formGridPass",children:Object(l.jsx)(K,{name:"password",label:"Password",type:"password",placeholder:"Password",value:n.password,onChange:v})}),Object(l.jsx)(m.a.Group,{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})})]})})})})})})},be=(a(94),function(){return Object(l.jsx)("div",{children:Object(l.jsx)($,{sidebar:!0,children:"Home"})})}),pe=function(){return Object(l.jsx)($,{sidebar:!0,children:"Orders"})};var he=function(){var e=Object(y.c)((function(e){return e.auth})),t=Object(y.b)();return Object(c.useEffect)((function(){e.authenticate||t(function(){var e=Object(C.a)(N.a.mark((function e(t){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("token"))&&(r=JSON.parse(localStorage.getItem("user")),t({type:I,payload:{token:a,user:r}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(de())}),[]),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(s.d,{children:[Object(l.jsx)(j,{exact:!0,path:"/",component:be}),Object(l.jsx)(j,{path:"/products",component:je}),Object(l.jsx)(j,{path:"/orders",component:pe}),Object(l.jsx)(j,{path:"/categories",component:ie}),Object(l.jsx)(s.b,{exact:!0,path:"/register",component:V}),Object(l.jsx)(s.b,{exact:!0,path:"/login",component:ue})]})})},Oe=(a(95),a(30)),me=a(52),xe=a(53),fe={token:null,user:{_id:"",firstName:"",lastName:"",email:"",role:""},authenticate:!1,authenticating:!1,loading:!1,error:null,message:""},ge={error:null,message:"",loading:!1},ye=a(38),ve={categoryList:[],loading:!1,error:null},Ne=function e(t,a,r){var n=[];if(void 0===t)return[].concat(Object(ye.a)(a),[{_id:r._id,name:r.name,children:[]}]);var c,s=Object(X.a)(a);try{for(s.s();!(c=s.n()).done;){var i=c.value;if(i._id==t){var l={_id:r._id,name:r.name,parentId:r.parentId,children:[]};n.push(Object(o.a)(Object(o.a)({},i),{},{children:i.children.length>0?[].concat(Object(ye.a)(i.children),[l]):[l]}))}else n.push(Object(o.a)(Object(o.a)({},i),{},{children:i.children?e(t,i.children,r):[]}))}}catch(d){s.e(d)}finally{s.f()}return n},Ce={products:[],loading:!1,errors:null},Se=(a(96),[xe.a]),Ie=Object(Oe.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:e=Object(o.a)(Object(o.a)({},e),{},{authenticating:!0});break;case I:e={token:t.payload.token,user:t.payload.user,authenticate:!0,authenticating:!1};break;case k:e={authenticate:!1,authenticating:!1,error:t.payload};break;case w:e={state:Object(o.a)(Object(o.a)({},fe),{},{loading:!0})};break;case E:e=Object(o.a)(Object(o.a)({},fe),{},{loading:!1,authenticate:!1,authenticating:!1});break;case _:e={authenticate:!1,authenticating:!1,loading:!1,error:t.payload}}return e},regAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:e=Object(o.a)(Object(o.a)({},e),{},{loading:!0});break;case T:e=Object(o.a)(Object(o.a)({},e),{},{loading:!1,message:t.payload});break;case G:e={loading:!1,error:t.payload}}return e},categoryState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:e=Object(o.a)(Object(o.a)({},e),{},{loading:!0});break;case L:e=Object(o.a)(Object(o.a)({},e),{},{categoryList:t.payload.categoryList,loading:!1});break;case D:e=Object(o.a)(Object(o.a)({},e),{},{loading:!0});break;case R:var a=t.payload.category,r=Ne(a.parentId,e.categoryList,a);console.log(r),e=Object(o.a)(Object(o.a)({},e),{},{categoryList:r,loading:!1});break;case U:e=Object(o.a)(Object(o.a)({},e),{},{error:t.payload});break;case H:e=Object(o.a)(Object(o.a)({},e),{},{loading:!0});break;case z:e=Object(o.a)(Object(o.a)({},e),{},{loading:!1});break;case B:e=Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload.error});break;case F:e=Object(o.a)(Object(o.a)({},e),{},{loading:!0});break;case M:e=Object(o.a)(Object(o.a)({},e),{},{loading:!1});break;case Q:e=Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload.error})}return e},productState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:e=Object(o.a)(Object(o.a)({},e),{},{loading:!0});break;case q:e=Object(o.a)(Object(o.a)({},e),{},{products:t.payload.products,loading:!1})}return e}}),ke=Object(Oe.createStore)(Ie,Object(me.composeWithDevTools)(Oe.applyMiddleware.apply(void 0,Se)));n.a.render(Object(l.jsx)(y.a,{store:ke,children:Object(l.jsx)(f.a,{children:Object(l.jsx)(he,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.55672179.chunk.js.map